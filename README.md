# zht4971

![Electron](https://img.shields.io/badge/Electron-28.0.0-blue) 
![License](https://img.shields.io/badge/License-MIT-green)

**zht4971** - портативное десктоп-приложение для организации структурированных записей с поддержкой мультимедийного контента, тегов и продвинутых связей, предназначенное для хранения личной информации.

## Основные возможности

- Хранение и просмотр информации
  - Текстовые записи с поддержкой разметки Markdown
  - Вложенные в записи файлы размером до 2 ГБ (изображения, видео и т.д.)

- Поиск записей
  - Тегирование в свободной форме
  - Быстрый семантический поиск по тегам

- Продвинутые связи
  - Внутренние ссылки по названиям и псевдонимам записей `[[пример]]`
  - Автоматическое разрешение неоднозначных ссылок на основе семантических дат записей
  - Группировка записей через хабы с использованием синтаксиса `{{хаб (20.04.2025)/секция}}`

- Безопасность
  - Шифрование AES-256
  - Ключ PBKDF2 с 100000 итераций
  - Полностью локальное хранение данных, в той же папке, в которой расположена основная папка программы

## Запуск

### Загрузка готового приложения

- Для Windows: https://github.com/mosfet971/zht4971/releases/latest/download/zht4971-win32-x64.zip
- Для Linux: https://github.com/mosfet971/zht4971/releases/latest/download/zht4971-linux-x64.zip

### Самостоятельная сборка

Клонирование репозитория: 

```
git clone https://github.com/mosfet971/zht4971.git
cd zht4971
```

Установка зависимостей: 

```
npm install
```

Запуск в режиме разработки: 

```
npm run buildAndStart
```

Сборка для Windows: 

```
npm run packageWindows
```

Сборка для Linux: 

```
npm run packageLinux
```

## Подробное описание

zht4971 представляет собой приложение для хранения текстовых данных и файлов, в котором базовой единицей информации выступает запись. Каждая запись включает основной текст с возможностью вложения файлов, название, список псевдонимов и дополнительные параметры. Основным инструментом навигации служат теги, которые могут указываться в свободной форме: при поиске учитывается как сходство написания, так и семантическое значение тегов.

В записи можно встраивать файлы до 2 ГБ (изображения, видео, архивы и др.), которые отображаются в соответствии с типом контента. Видео принимаются только в форматах webm и mp4, что может требовать конвертации сторонними инструментами. Для удаления неиспользуемых файлов после редактирования или удаления записей предусмотрена функция сборки мусора в меню.

Каждая запись должна содержать семантическую дату в формате "дд.мм.гггг", указываемую в специальном параметре, названии (в скобках) и каждом псевдониме. Это предотвращает путаницу между записями с идентичными названиями, но разным содержанием во времени. 

Интерфейс программы разделен на вкладки: "Меню", "Поиск по тегам", "Избранное", "Справка", "Просмотр и изменение". Приложение использует шифрование AES-256 в режиме CBC с формированием ключа через PBKDF2 c 100000 итераций на основе пароля. Программа портативна, работает без установки из одной папки, а её база данных размещается в директории, содержащей папку приложения. Тексты записей поддерживают разметку Markdown, а также некоторые дополнительные выражения, описанные далее.

Ссылочная система использует алгоритм автоматической конкретизации семантической даты при переходе. Если текст-указатель ссылки не содержит даты, выбирается запись с ближайшей к источнику (т.е. к текущей записи) семантической датой, предпочтительно более старой. Наличие знака "-" в указателе меняет приоритет на выбор более новой записи. Синтаксис ссылок: [[x]] или [[x|y]], где x — название/псевдоним цели, y — отображаемый текст. Если вы ссылаетесь на [[Запись X]] из записи с семантической датой 12.04.2024, программа выберет запись "Запись X (10.05.2023)", а не "Запись X (30.01.2025)". Используйте [[Запись X -]], чтобы выбрать более "новую" версию. Вставка содержимого другой записи осуществляется через выражение ![[x]].

Хабы — автоматически формируемые таблицы ссылок — создаются через выражения {{x}} или {{x/y}} в текстах записей, где x — название хаба, y — секция. Название хаба должно точно совпадать в разных записях и включать дату в скобках. Рекомендуется создавать отдельную запись с описанием хаба, чьё название идентично хабy. Пример: `{{хаб (20.04.2025)/секция}}`.
